<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=cp936">
    <title>Linux</title>
    <link rel="stylesheet" type="text/css" href="css/shCoreDefault.css"/>
    <link rel="Stylesheet" type="text/css" href="static/css/wiki.css">
    <link rel="Stylesheet" type="text/css" href="static/bootstrap/css/bootstrap.min.css">
    <script type="text/javascript" src="static/js/jquery.min.js"></script>
    <script type="text/javascript" src="static/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="static/js/wiki.js"></script>
    <script type="text/javascript" src="static/js/shCore.js"></script>
    <script type="text/javascript" src="static/js/shBrushPython.js"></script>
    <script type="text/javascript" src="static/js/shBrushCpp.js"></script>
    <script type="text/javascript" src="static/js/shBrushErlang.js"></script>
    <script type="text/javascript" src="static/js/shBrushBash.js"></script>
    <script type="text/javascript" src="static/js/shBrushRuby.js"></script>
    <script type="text/javascript" src="static/js/shBrushSql.js"></script>
    <script type="text/javascript" src="static/js/shBrushJScript.js"></script>
    <script type="text/javascript">SyntaxHighlighter.all();</script>
</head>
<body>
<nav class="navbar navbar-default navbar-inverse" role="navigation">
 <div class="container">
    <div class="navbar-header">
<button data-target=".bs-navbar-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
	<span class="sr-only"></span>
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
	<span class="icon-bar"></span>
      </button>
	<a class="navbar-brand" href="main.html">Rick's wiki</a>
    </div>
    <div class="collapse navbar-collapse">
	<ul class="nav navbar-nav">
	    <li><a href="main.html">Home</a></li>
	    <li><a href="TODO.html">TODO</a></li>
	</ul>
    </div>
 </div>
</nav>
<div class="container content-body">
    
<div class="toc">
<ul>
<li><a href="#toc_0.0.1">Linux Command</a>
<li><a href="#toc_0.0.2">Ubuntu</a>
<ul>
<li><a href="#toc_0.0.2.1">Tricks</a>
</ul>
<li><a href="#toc_0.0.3">Linux Should known</a>
</ul>
</ul>
</ul>
</div>
<hr />
<h3 id="toc_0.0.1">Linux Command</h3>
<ul>
<li>
  <a href="https://wiki.gnome.org/action/show/Apps/Nautilus?action=show&amp;redirect=Nautilus">Nautilus</a>: the file manager for GNOME desktop

<ul>
<li>
  F9  打开/隐藏侧边栏

<li>
  Ctrl+L  在文件浏览器中呼出地址栏

<li>
  Ctrl+H  切换显示隐藏文件

<li>
  nautilus -q     Restart Nautilus

<li>
  nautilus-refresh    刷新
<pre>
    # gksu扩展允许在nautilus浏览文件时以管理员权限打开文件
    &gt;   sudo apt-add-repository ppa:upubuntu-com/ppa
    &gt;   sudo apt-get update
    &gt;   sudo apt-get install nautilus-gksu
    &gt;   nautilus -q
    
    &gt;   sudo add-apt-repository ppa:dr3mro/nautilus-actions-extra
    &gt;   sudo apt-get update
    &gt;   sudo apt-get install nautilus-actions nautilus-actions-extra 
</pre>

<li>
  <a href="http://www.ibm.com/developerworks/cn/linux/l-script-linux-desktop-2/index.html?ca=drs/">扩展Nautilus</a>

</ul>
<li>
  Ctrl+Alt+T  打开终端

<li>
  ps -aux     list all user and system process(包括守护进程)

<li>
  pstree      查看进程与线程的树形结构

<li>
  ps -eLf     -L显示进程并显示线程ID和线程个数

<li>
  top -H      实时显示各个线程情况

<li>
  ipcalc      learn ip address

<li>
  find &lt;path&gt; &lt;condition&gt; &lt;action&gt;

<ul>
<li>
  find . -name 'my*'

<li>
  find . -name 'my*' -ls    在当前目录中搜索以ｍｙ开头的文件并显示详细信息

<li>
  find . -type [dfs] -mmin -10    搜索当前目录中，所有过去１０分钟中更新过的*[目录|普通|Socket]*文件。

<li>
  find . -size [+-]100M

<li>
  <a href="http://blog.jobbole.com/48856/">http://blog.jobbole.com/48856/</a>

<li>
  find . -name "*.tmp" -exec rm {} \; 删除当前目录中的.tmp文件

</ul>
<li>
  locate      find　-name的另一种写法，但是要比后者快得多，原因在于它不搜索具体目录，而是搜索一个数据库（/var/lib/locatedb），这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，所以使用locate命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。

<ul>
<li>
  locate /etc/sh  搜索etc目录下所有以sh开头的文件

<li>
  locate　～/m搜索用户目录下所有以m开头的文件

</ul>
<li>
  whereis     只能用于程序名的搜索，[-b|-m|-s]

<li>
  which   在PATH变量指定的路径中搜索某个命令的位置，并返回第一个搜索结果

<li>
  Ubuntu快捷键

<ul>
<li>
  Super+W 在同一屏幕列出工作区所有窗口

<li>
  Super+S 俯瞰多个工作区

<li>
  Alt+Tab 切换不同程序

<li>
  Alt+`　　细化预览

<li>
  在文件浏览器中, CTRL+H可以切换显示隐藏文件夹和文件

</ul>
<li>
  Ubuntu下的文件关联

<ul>
<li>
  /etc/gnome/defaults.list保存了全局的打开方式

<li>
  ~/.local/share/applications/mimeapps.list保存了个人的打开方式

<li>
  当两者不一致时,优先采用局部的个人设置

</ul>
<li>
  pbcopy/pbpaste(OS X command-line tool, work with standard input and clipboard)

<ul>
<li>
  sudo apt-get install xsel

<li>
  modify .bashrc
<pre>
    #add this two lines
    alias pbcopy='xsel --clipboard --input'
    alias pbpaste='xsel --clipboard --output'
    
    #example
    $ cat test.txt | pbcopy
</pre>

</ul>
<li>
  dmesg   显示linux内核的环形缓冲区信息，我们可以从中获得诸如系统架构、cpu、挂载的硬件，RAM等多个运行级别的大量的系统信息。

<ul>
<li>
  dmesg | [more|less|tail]        列出加载到内核中的所有驱动

<li>
  dmesg | grep sda                列出所有被检测到的硬件

<li>
  dmesg | head  -20               只输出dmesg命令的前20行日志

<li>
  dmesg | tail -20                只输出dmesg命令最后20行日志

<li>
  dmesg | grep -i usb             搜索包含特定字符串的被检测到的硬件

<li>
  dmesg -c                        清空dmesg缓冲区日志

<li>
  watch "dmesg | tail -20"        实时监控dmesg日志输出

</ul>
</ul>

<hr />
<h3 id="toc_0.0.2">Ubuntu</h3>
<h4 id="toc_0.0.2.1">Tricks</h4>
<ul>
<li>
  显示或隐藏文件管理器侧边栏      F9 toggle/

<li>
  ubuntu unity, 已挂载的磁盘不显示在左边侧栏（启动器）
<pre>
Ubuntu 默认总会将挂载的磁盘(硬盘分区)在桌面建立一捷径，Unity 桌面，则除了桌面外，还会在左边侧栏(Launcher)中也建一个捷径。

事实上，Launcher 上面已有了固定的软件、开启的软件的小图示，所以很容易就占着许多图示，因此不必要再让已挂载的磁盘的图示显示在Launcher 上。

若想移除（不再显示）已挂载磁盘的图示：

安装Compiz Config Settings Manager( ccsm)，打开终端(Ctrl - Alt - T)，贴上

sudo apt-get install compizconfig-settings-manager

安装后，打开终端，输入 ccsm

点Desktop(桌面) → 点Ubuntu Unity plugin → 点上方的Experimental → 最下方Show Devices 选择Never → 上一步→ 关闭。
</pre>

</ul>

<ul>
<li>
  ubuntu-tweak0.8.5在清理时会把/etc/X11/X误删除掉，重启后黑屏或停留在logo或startx失败
<pre>
解决方法是：   在grup界面按e编辑，在Linux一午上加text，进入文本模式启动，在终端输入以下内容，创建新的软链接
sudo ln -s /usr/bin/Xorg /etc/X11/X
重启即可
将tweak换成0.8.3
</pre>

</ul>

<ul>
<li>
  自动挂载其它分区
<pre>
修改/etc/fstab文件
sudo gedit /etc/fstab
每一行使用一个tab分成6列，分别为filesystem, mountpoint, type, options,dump, pass
分别表示:原来在文件系统的位置，加载点位置，类型，参数等，可以使用man fstab来查看各个参数的定义
将以下内容添加到/etc/fstab 文件尾部，保存，重启即可自动挂载其他分区了。

#Entry for /dev/sda6 :
UUID=0004FF2F00048EBB   /media/sda6 ntfs-3g defaults,locale=en_US.UTF-8 0   0
#Entry for /dev/sda7 :
UUID=00048FA50008DD3A   /media/sda7 ntfs-3g defaults,locale=en_US.UTF-8 0   0
#Entry for /dev/sda8 :
UUID=000F3D290008D7EE   /media/sda8 ntfs-3g defaults,locale=en_US.UTF-8 0   0

也可以写成
/dev/sda6 /media/sda6 ntfs-3g defaults,locale=en_US.UTF-8 0   0
/dev/sda7 /media/sda7 ntfs-3g defaults,locale=en_US.UTF-8 0   0
/dev/sda8 /media/sda8 ntfs-3g defaults,locale=en_US.UTF-8 0   0
</pre>

<li>
  Backup system

<ul>
<li>
<a href="back.sh.html">back.sh</a> 

<li>
move back.sh to /home
      <br> cd /home
      <br> chmod +x back.sh
      <br> ./back.s

</ul>
<li>
  <a href="http://www.cnblogs.com/vimmer/articles/2645734.html">GoldenDict</a>

<ul>
<li>
  sudo apt-get install goldendict

<li>
  download dictionaries and unzip to a dir

<li>
  open goldendict -&gt; edit this group -&gt; add online dict and local dict

</ul>
<li>
  Ubuntu加速

<ul>
<li>
  Preload, 可以预先加载程序使用的库或二进制文件进内存，加快程序启动速度

<ul>
<li>
  sudo apt-get install preload

</ul>
<li>
  随机启动项

<ul>
<li>
  sudo sed -i 's/NoDisplay=true/NoDisplay=false/g' /etc/xdg/autostart/*.desktop     修改随机启动服务的文件属性，显示隐藏的随机启动系统服务

<li>
  startup －> 修改

</ul>
</ul>
<li>
  Vim中文显示乱码

<ul>
<li>
  Windows上默认是GBK编码，而vim默认是utf-8（gedit默认也是utf-8)，所以在vim上打开windows上的文件中文会显示乱码，只需要修改配置文件，使vim支持gbk编码就可以了。

<li>
  在vimrc中添加*set fileencoding=utf-8,gbk*

</ul>
<li>
  Unity Configure

<ul>
<li>
  sudo add-apt-repository  ppa:myunity/ppa

<li>
  sudo apt-get update

<li>
  sudo apt-get install myunity

</ul>
<li>
  Ubuntu Chrome 白屏

<ul>
<li>
  sudo mkdir /etc/adobe

<li>
  echo "OverrideGPUValidation=true" &gt;~/mms.cfg

<li>
  sudo mv ~/mms.cfg /etc/adobe

</ul>
<li>
  Ubuntu下玩魔兽

<ul>
<li>
  安装Wine

<li>
  进入War3的目录

<li>
  wine War3.exe -opengl -window

</ul>
<li>
  Uninstall Wine

<ul>
<li>
  安装wine后会在系统中添加一些新的启动项,比如文本文件会以Notepad方式打开的选项

<li>
  卸载wine后这些东西仍然残留, 要想彻底删除需要将~/.local/share/applications目录下所有以wine开头的destop文件删除掉

<li>
  还要将该目录下的mimeinfo.cache删除掉, 里面引用了wine*文件, 重新登录一次就看不到残留内容了

</ul>
<li>
  在线制作icon图标

<ul>
<li>
  <a href="http://www.bitbug.net/">http://www.bitbug.net/</a>

</ul>
<li>
  <a href="http://www.playonlinux.com/en">Playonlinux</a>

<ul>
<li>
  还需要安装curl: sudo apt-get install curl

</ul>
<li>
  Sysinfo显示系统硬件信息

<ul>
<li>
  sudo apt-get install sysinfo

<li>
  &gt;sudo sysinfo

</ul>
<li>
  我的机器是双显卡，Intel集成显卡和Ｎvidia Geforce620

<ul>
<li>
  千万不要自己下Nvidia的显卡驱动来安装，重启后进不去Unity

<li>
  安装Bumblebee（大黄蜂）, 让它来安装nvidia驱动bumblebee-nvidia

<ul>
<li>
  sudo add-apt-repository ppa:bumblebee/stable

<li>
  sudo add-apt-repository ppa:ubuntu-x-swatx/x-updates    //more drivers

<li>
  sudo apt-get update

<li>
  sudo apt-get install bumblebee bumblebee-nvidia

<li>
  sudo reboot

<li>
  有时会发现重启后执行optirun glxinfo，显示如下错误
<pre>
            Optirun glxgears: Cannot access secondary GPU - error: [XORG] (EE) No devices detected
</pre>

<li>
  解决方法是sudo gedit /etc/bumblebee/xorg.conf.nvidia, 加上BusID行
<pre // BUSID可以由lspci, 查看3D Controller>
            Section "Device"
            Identifier  "DiscreteNvidia"
            Driver      "nvidia"
            VendorName  "NVIDIA Corporation"
            BusID "PCI:02:00:0"
</pre>

</ul>
<li>
  测试 &gt;optirun glxgears  使用独显运行，可以看到3D效果

<li>
  独显运行chrome, &gt;optirun google-chrome，就可以显示webgl绘制的动画

</ul>
<li>
  glxgears

<ul>
<li>
  测试Linux是否可以顺利运行2D、3D的测试软件

<li>
  &gt;optirun　glxgears

<li>
  弹出窗口中有三个转动的齿轮，在terminal中会显示每５s转动多少栅，齿轮跑的越快说明显卡支持越好

</ul>
<li>
  glxinfo

<ul>
<li>
  查看当前的渲染引擎

<li>
  glxinfo | grep "OpenGL version"

<li>
  optirun glxinfo | grep "OpenGL version"

</ul>
<li>
  Rhythmbox中文乱码

<ul>
<li>
  Ubuntu使用的UTF-8字符集，而rhythmbox等播放器不可以调整MP3歌曲中所包含的ID3标签信息的字符集，造成乱码显示. mutagen可以批量修改MP3曲目中的ID3标签的字符集。

<li>
  sudo apt-get install python-mutagen

<li>
  mid3iconv -e GBK *.mp3

<li>
  find . -iname "*.mp3" -execdir mid3iconv -e gbk {} \; 

</ul>
<li>
  Install JDK

<ul>
<li>
  sudo apt-get install openjdk-7-jdk

</ul>
<li>
  Ubuntu13.04 No sound

<ul>
<li>
  sudo vim /etc/modprobe.d/alsa-base.conf

<li>
  add the following line at the end of the file:

<ul>
<li>
  options snd-hda-intel model=3stack

</ul>
<li>
  reboot

</ul>
<li>
  开机运行程序

<ul>
<li>
  Dash ==&gt; Startup Applications

<li>
  Add apps

</ul>
<li>
  添加右键扩展

<ul>
<li>
  添加右键菜单以管理 员打开：

<ul>
<li>
  sudo apt-get install nautilus-gksu     

</ul>
<li>
  添加右键菜单打开终端：

<ul>
<li>
  sudo apt-get install nautilus-open-terminal

</ul>
<li>
  添加右键菜单图片转换：

<ul>
<li>
  sudo apt-get install nautilus-image-converter

</ul>
<li>
  清理体系孤独库的软件:

<ul>
<li>
  sudo apt-get install gtkorphan

<li>
  sudo gtkorphan

</ul>
</ul>
<li>
  Chromium    stable, 不会白屏

<ul>
<li>
  sudo add-apt-repository ppa:chromium-daily/stable

<li>
  sudo apt-get update

<li>
  sudo apt-get chromium-browser

</ul>
<li>
  在顶部状态栏显示CPU&amp;Mem&amp;网络信息

<ul>
<li>
  sudo add-apt-repository ppa:alexeftimie/ppa

<li>
  sudo apt-get update

<li>
  sudo apt-get install indicator-sysmonitor

<li>
  sudo apt-get install dstat

<li>
  wget <a href="http://webupd8.googlecode.com/files/sysmon_0.2.tar.gz">http://webupd8.googlecode.com/files/sysmon_0.2.tar.gz</a> &amp;&amp; tar -xvf sysmon_0.2.tar.gz

<li>
  sudo cp sysmon /usr/local/bin

<li>
  indicator-sysmonitor =&gt; Preferences =&gt; Advanced =&gt; Use this command: <strong>/usr/local/bin/sysmon</strong>

</ul>
<li>
  MenuLibre: a menu editor that provides an easy-to-use interface

<ul>
<li>
  sudo add-apt-repository ppa:menulibre-dev/devel

<li>
  sudo apt-get update

<li>
  sudo apt-get install menulibre

</ul>
<li>
  Screenlets: linux桌面小工具的开发框架

<ul>
<li>
  sudo apt-add-repository ppa:screenlets/ppa

<li>
  sudo apt-get update

<li>
  sudo apt-get install screenlets

<li>
  <a href="http://www.ibm.com/developerworks/cn/linux/l-script-linux-desktop-1/">http://www.ibm.com/developerworks/cn/linux/l-script-linux-desktop-1/</a>

</ul>
</ul>

<hr />
<h3 id="toc_0.0.3">Linux Should known</h3>
<p>
<a href="http://coolshell.cn/articles/8883.html">http://coolshell.cn/articles/8883.html</a>
</p>

<ul>
<li>
  Bash

<li>
  vim

<li>
  ssh

<li>
  bash作业管理
<pre>
    &amp;, Ctrl-Z, Ctrl-C, jobs, fg, bg, kill, 等等。当然，你也要知道Ctrl+\（SIGQUIT）和Ctrl+C （SIGINT）的区别
</pre>

<li>
  简单文件管理
<pre>
ls 和 ls -l (你最好知道 “ls -l” 的每一列的意思), less, head, tail 和 tail -f, ln 和 ln -s (你知道明白hard link和soft link的不同和优缺点), chown, chmod, du (如果你想看看磁盘的大小 du -sk *), df, mount。当然，原作者忘了find命令。
</pre>

</ul>

<ul>
<li>
  <a href="http://coolshell.cn/articles/9104.html">Sed</a>

<li>
  <a href="http://coolshell.cn/articles/9070.html">Awk</a>

<li>
  [[<a href="http://os.51cto.com/art/201312/424212.htm|Shell技巧]]">http://os.51cto.com/art/201312/424212.htm|Shell技巧]]</a>

</ul>


   <hr />
   <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'rickhuang'; // required: replace example with your forum shortname

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
</body>
</html>
